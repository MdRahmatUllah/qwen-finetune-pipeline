# Ollama Modelfile for Qwen2.5-7B Fine-tuned Model
# This file defines how Ollama should load and run the custom fine-tuned model

# Point to the GGUF model file
FROM ./models/gguf/qwen2p5_7b_merged.gguf

# Chat template for Qwen models
# Qwen uses the ChatML format with <|im_start|> and <|im_end|> tokens
TEMPLATE """{{ if .System }}<|im_start|>system
{{ .System }}<|im_end|>
{{ end }}{{ if .Prompt }}<|im_start|>user
{{ .Prompt }}<|im_end|>
<|im_start|>assistant
{{ .Response }}<|im_end|>
{{ end }}"""

# System message (optional - can be overridden by user)
SYSTEM """You are a helpful AI assistant trained on domain-specific documents. You provide accurate, factual information based on the knowledge from your training data."""

# Model parameters
PARAMETER num_ctx 8192
PARAMETER temperature 0.7
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER repeat_penalty 1.1
PARAMETER stop "<|im_start|>"
PARAMETER stop "<|im_end|>"

